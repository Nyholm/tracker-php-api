# Низкоуровневый клиент

Класс `Comindware\Tracker\API\Client` предоставляет интерфейс низкого уровня для выполнения
произвольных запросов к API Comindware Tracker.

## sendRequest

Для отправки запросов используется метод `sendRequest`:

    public function sendRequest(string $path [, string $method [, array $payload ]]): mixed

### Список параметров

- **$path** — Запрашиваемый URI относительно $baseUri, задаваемого в конструкторе. Например
  «/Api/Account/123».
- **$method** — Метод HTTP. Если не указан, будет использован метод «GET».
- **$payload** — Тело запроса в виде ассоциативного массива. Значения могут быть скалярами,
  массивами, либо экземплярами [File](types.ru.md#File).

### Возвращаемые значения

Строка или массив в зависимости от вызываемого метода API.

### Ошибки

Если получен ответ с сообщением об ошибке API, где указан конкретный тип ошибки, будет вброшено
исключение `Comindware\Tracker\API\Exception\WebApiClientException` или одно из дочерних.

В случае прочих ошибок (например, сервер недоступен или получен неправильный ответ), будет вброшено
исключение `Comindware\Tracker\API\Exception\RuntimeException`.

### Примеры

TODO

## Журналирование

При помощи метода `Client::setLogger()` вы можете передать в клиент средство журналирования,
поддерживающее интерфейс [PSR-3](http://php-fig.org/psr/psr-3/).